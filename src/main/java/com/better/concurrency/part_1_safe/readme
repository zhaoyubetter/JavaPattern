1. 使用工厂方法防止this引用在构造方法中逸出
    Test7_unsafeStates#SafeListener

2. 栈封闭：
    思路：
        局部变量封闭在自己的执线程（方法）中
    解决：
        a.如果要在各个线程中，更新全局变量，可以先创建一个新的容器对象（局部变量），然后修改此局部变量，这样全局变量就是一致性的了；
        b.如果使用sync；
    示例：
        Test8_stack_close

3. 安全发布对象
    思路：
        对象尚未构造完成，就不能发布
    解决：
        使用同步块锁为Class字节码
    示例：
        a.Test9_unsafe_published

4. 复合操作时：线程安全对象的组合操作就一定是安全的吗？
    思路：
        每个线程安全对象独立使用是安全的，但是结合就不一定了，因为他们的锁是不一样的
    解决：
        使用时加上锁
    示例：
        Test2_multi_member_local3

5. 使用线程安全对象，在客户端调用时，如果新建了方法，操作对象，需要注意同步问题
    思路：
        新建的方法与原有对象锁不一样
    解决：
        使用同一锁
    示例：
        Test2_multi_member_local3